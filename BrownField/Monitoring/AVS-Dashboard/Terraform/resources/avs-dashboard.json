{
  "lenses": {
    "0": {
      "order": 0,
      "parts": {
        "0": {
          "position": {
            "x": 0,
            "y": 0,
            "colSpan": 6,
            "rowSpan": 1
          },
          "metadata": {
            "inputs": [],
            "type": "Extension/HubsExtension/PartType/MarkdownPart",
            "settings": {
              "content": {
                "settings": {
                  "content": "# AVS Private Cloud Metrics",
                  "title": "",
                  "subtitle": "",
                  "markdownSource": 1
                }
              }
            }
          }
        },
        "1": {
          "position": {
            "x": 6,
            "y": 0,
            "colSpan": 6,
            "rowSpan": 4
          },
          "metadata": {
            "inputs": [
              {
                "name": "options",
                "value": {
                  "chart": {
                    "metrics": [
                      {
                        "resourceMetadata": {
                          "id": "${privateCloudResourceId}"
                        },
                        "name": "EffectiveCpuAverage",
                        "aggregationType": 4,
                        "namespace": "microsoft.avs/privateclouds",
                        "metricVisualization": {
                          "displayName": "Percentage CPU"
                        }
                      }
                    ],
                    "title": "Percentage CPU by Cluster Name",
                    "titleKind": 1,
                    "visualization": {
                      "chartType": 2,
                      "legendVisualization": {
                        "isVisible": true,
                        "position": 2,
                        "hideSubtitle": false
                      },
                      "axisVisualization": {
                        "x": {
                          "isVisible": true,
                          "axisType": 2
                        },
                        "y": {
                          "isVisible": true,
                          "axisType": 1
                        }
                      }
                    },
                    "grouping": {
                      "dimension": "clustername",
                      "sort": 2,
                      "top": 10
                    }
                  }
                }
              },
              {
                "name": "sharedTimeRange",
                "isOptional": true
              }
            ],
            "type": "Extension/HubsExtension/PartType/MonitorChartPart",
            "settings": {
              "content": {
                "options": {
                  "chart": {
                    "metrics": [
                      {
                        "resourceMetadata": {
                          "id": "${privateCloudResourceId}"
                        },
                        "name": "EffectiveCpuAverage",
                        "aggregationType": 4,
                        "namespace": "microsoft.avs/privateclouds",
                        "metricVisualization": {
                          "displayName": "Percentage CPU"
                        }
                      }
                    ],
                    "title": "Percentage CPU by Cluster Name",
                    "titleKind": 1,
                    "visualization": {
                      "chartType": 2,
                      "legendVisualization": {
                        "isVisible": true,
                        "position": 2,
                        "hideSubtitle": false
                      },
                      "axisVisualization": {
                        "x": {
                          "isVisible": true,
                          "axisType": 2
                        },
                        "y": {
                          "isVisible": true,
                          "axisType": 1
                        }
                      },
                      "disablePinning": true
                    },
                    "grouping": {
                      "dimension": "clustername",
                      "sort": 2,
                      "top": 10
                    }
                  }
                }
              }
            }
          }
        },
        "2": {
          "position": {
            "x": 0,
            "y": 1,
            "colSpan": 6,
            "rowSpan": 3
          },
          "metadata": {
            "inputs": [
              {
                "name": "id",
                "value": "${privateCloudResourceId}"
              }
            ],
            "type": "Extension/HubsExtension/PartType/ResourcePart",
            "asset": {
              "idInputName": "id"
            }
          }
        },
        "3": {
          "position": {
            "x": 0,
            "y": 4,
            "colSpan": 6,
            "rowSpan": 4
          },
          "metadata": {
            "inputs": [
              {
                "name": "options",
                "value": {
                  "chart": {
                    "metrics": [
                      {
                        "resourceMetadata": {
                          "id": "${privateCloudResourceId}"
                        },
                        "name": "DiskUsedPercentage",
                        "aggregationType": 4,
                        "namespace": "microsoft.avs/privateclouds",
                        "metricVisualization": {
                          "displayName": " Percentage Datastore Disk Used"
                        }
                      }
                    ],
                    "title": "Percentage Datastore Disk Used by Datastore",
                    "titleKind": 1,
                    "visualization": {
                      "chartType": 2,
                      "legendVisualization": {
                        "isVisible": true,
                        "position": 2,
                        "hideSubtitle": false
                      },
                      "axisVisualization": {
                        "x": {
                          "isVisible": true,
                          "axisType": 2
                        },
                        "y": {
                          "isVisible": true,
                          "axisType": 1
                        }
                      }
                    },
                    "grouping": {
                      "dimension": "dsname",
                      "sort": 2,
                      "top": 10
                    }
                  }
                }
              },
              {
                "name": "sharedTimeRange",
                "isOptional": true
              }
            ],
            "type": "Extension/HubsExtension/PartType/MonitorChartPart",
            "settings": {
              "content": {
                "options": {
                  "chart": {
                    "metrics": [
                      {
                        "resourceMetadata": {
                          "id": "${privateCloudResourceId}"
                        },
                        "name": "DiskUsedPercentage",
                        "aggregationType": 4,
                        "namespace": "microsoft.avs/privateclouds",
                        "metricVisualization": {
                          "displayName": " Percentage Datastore Disk Used"
                        }
                      }
                    ],
                    "title": "Percentage Datastore Disk Used by Datastore",
                    "titleKind": 1,
                    "visualization": {
                      "chartType": 2,
                      "legendVisualization": {
                        "isVisible": true,
                        "position": 2,
                        "hideSubtitle": false
                      },
                      "axisVisualization": {
                        "x": {
                          "isVisible": true,
                          "axisType": 2
                        },
                        "y": {
                          "isVisible": true,
                          "axisType": 1
                        }
                      },
                      "disablePinning": true
                    },
                    "grouping": {
                      "dimension": "dsname",
                      "sort": 2,
                      "top": 10
                    }
                  }
                }
              }
            }
          }
        },
        "4": {
          "position": {
            "x": 6,
            "y": 4,
            "colSpan": 6,
            "rowSpan": 4
          },
          "metadata": {
            "inputs": [
              {
                "name": "options",
                "value": {
                  "chart": {
                    "metrics": [
                      {
                        "resourceMetadata": {
                          "id": "${privateCloudResourceId}"
                        },
                        "name": "UsageAverage",
                        "aggregationType": 4,
                        "namespace": "microsoft.avs/privateclouds",
                        "metricVisualization": {
                          "displayName": "Average Memory Usage"
                        }
                      }
                    ],
                    "title": "Average Memory Usage by Cluster Name",
                    "titleKind": 1,
                    "visualization": {
                      "chartType": 2,
                      "legendVisualization": {
                        "isVisible": true,
                        "position": 2,
                        "hideSubtitle": false
                      },
                      "axisVisualization": {
                        "x": {
                          "isVisible": true,
                          "axisType": 2
                        },
                        "y": {
                          "isVisible": true,
                          "axisType": 1
                        }
                      }
                    },
                    "grouping": {
                      "dimension": "clustername",
                      "sort": 2,
                      "top": 10
                    }
                  }
                }
              },
              {
                "name": "sharedTimeRange",
                "isOptional": true
              }
            ],
            "type": "Extension/HubsExtension/PartType/MonitorChartPart",
            "settings": {
              "content": {
                "options": {
                  "chart": {
                    "metrics": [
                      {
                        "resourceMetadata": {
                          "id": "${privateCloudResourceId}"
                        },
                        "name": "UsageAverage",
                        "aggregationType": 4,
                        "namespace": "microsoft.avs/privateclouds",
                        "metricVisualization": {
                          "displayName": "Average Memory Usage"
                        }
                      }
                    ],
                    "title": "Average Memory Usage by Cluster Name",
                    "titleKind": 1,
                    "visualization": {
                      "chartType": 2,
                      "legendVisualization": {
                        "isVisible": true,
                        "position": 2,
                        "hideSubtitle": false
                      },
                      "axisVisualization": {
                        "x": {
                          "isVisible": true,
                          "axisType": 2
                        },
                        "y": {
                          "isVisible": true,
                          "axisType": 1
                        }
                      },
                      "disablePinning": true
                    },
                    "grouping": {
                      "dimension": "clustername",
                      "sort": 2,
                      "top": 10
                    }
                  }
                }
              }
            }
          }
        }%{ if exRConnectionResourceId != "" },
        "5": {
          "position": {
            "x": 0,
            "y": 8,
            "colSpan": 6,
            "rowSpan": 4
          },
          "metadata": {
            "inputs": [
              {
                "name": "options",
                "value": {
                  "chart": {
                    "metrics": [
                      {
                        "resourceMetadata": {
                          "id": "${exRConnectionResourceId}"
                        },
                        "name": "BitsInPerSecond",
                        "aggregationType": 4,
                        "namespace": "microsoft.network/connections",
                        "metricVisualization": {
                          "displayName": "BitsInPerSecond"
                        }
                      },{
                        "resourceMetadata": {
                          "id": "${exRConnectionResourceId}"
                        },
                        "name": "BitsOutPerSecond",
                        "aggregationType": 4,
                        "namespace": "microsoft.network/connections",
                        "metricVisualization": {
                          "displayName": "BitsOutPerSecond"
                        }
                      }
                    ],
                    "title": "Private Cloud to VNet Utilization",
                    "titleKind": 1,
                    "visualization": {
                      "chartType": 2,
                      "legendVisualization": {
                        "isVisible": true,
                        "position": 2,
                        "hideSubtitle": false
                      },
                      "axisVisualization": {
                        "x": {
                          "isVisible": true,
                          "axisType": 2
                        },
                        "y": {
                          "isVisible": true,
                          "axisType": 1
                        }
                      }
                    },
                    "grouping": {
                      "dimension": "dsname",
                      "sort": 2,
                      "top": 10
                    }
                  }
                }
              },
              {
                "name": "sharedTimeRange",
                "isOptional": true
              }
            ]
          }
        }
        %{endif} %{ if vwanExrGatewayResourceId != "" },
        "5": {
          "position": {
            "x": 0,
            "y": 8,
            "colSpan": 6,
            "rowSpan": 4
          },
          "metadata": {
            "inputs": [
              {
                "name": "sharedTimeRange",
                "isOptional": true
              },
              {
                "name": "options",
                "value": {
                  "chart": {
                    "metrics": [
                      {
                        "resourceMetadata": {
                          "id": "${vwanExrGatewayResourceId}"
                        },
                        "name": "ErGatewayConnectionBitsInPerSecond",
                        "aggregationType": 4,
                        "namespace": "microsoft.network/expressroutegateways",
                        "metricVisualization": {
                          "displayName": "Bits In Per Second"
                        }
                      },
                      {
                        "resourceMetadata": {
                          "id": "${vwanExrGatewayResourceId}"
                        },
                        "name": "ErGatewayConnectionBitsOutPerSecond",
                        "aggregationType": 4,
                        "namespace": "microsoft.network/expressroutegateways",
                        "metricVisualization": {
                          "displayName": "Bits Out Per Second"
                        }
                      }
                    ],
                    "title": "Private Cloud to VNet Utilization",
                    "titleKind": 1,
                    "visualization": {
                      "chartType": 2,
                      "legendVisualization": {
                        "isVisible": true,
                        "position": 2,
                        "hideSubtitle": false
                      },
                      "axisVisualization": {
                        "x": {
                          "isVisible": true,
                          "axisType": 2
                        },
                        "y": {
                          "isVisible": true,
                          "axisType": 1
                        }
                      }
                    },
                    "timespan": {
                      "relative": {
                        "duration": 86400000
                      },
                      "showUTCTime": false,
                      "grain": 1
                    }
                  }
                },
                "isOptional": true
              }
            ],
            "type": "Extension/HubsExtension/PartType/MonitorChartPart",
            "settings": {
              "content": {
                "options": {
                  "chart": {
                    "metrics": [
                      {
                        "resourceMetadata": {
                          "id": "${vwanExrGatewayResourceId}"
                        },
                        "name": "ErGatewayConnectionBitsInPerSecond",
                        "aggregationType": 4,
                        "namespace": "microsoft.network/expressroutegateways",
                        "metricVisualization": {
                          "displayName": "Bits In Per Second"
                        }
                      },
                      {
                        "resourceMetadata": {
                          "id": "${vwanExrGatewayResourceId}"
                        },
                        "name": "ErGatewayConnectionBitsOutPerSecond",
                        "aggregationType": 4,
                        "namespace": "microsoft.network/expressroutegateways",
                        "metricVisualization": {
                          "displayName": "Bits Out Per Second"
                        }
                      }
                    ],
                    "title": "Private Cloud to VNet Utilization",
                    "titleKind": 1,
                    "visualization": {
                      "chartType": 2,
                      "legendVisualization": {
                        "isVisible": true,
                        "position": 2,
                        "hideSubtitle": false
                      },
                      "axisVisualization": {
                        "x": {
                          "isVisible": true,
                          "axisType": 2
                        },
                        "y": {
                          "isVisible": true,
                          "axisType": 1
                        }
                      },
                      "disablePinning": true
                    }
                  }
                }
              }
            },
            "filters": {
              "MsPortalFx_TimeRange": {
                "model": {
                  "format": "local",
                  "granularity": "auto",
                  "relative": "1440m"
                }
              }
            }
          }
        }
        %{endif}
      }
    }
  }
}